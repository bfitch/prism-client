{"version":3,"sources":["../../src/store.js"],"names":["Store","constructor","cache","entities","_cache","clearCache","get","entityName","id","undefined","entity","Object","values","delete","set","assign"],"mappings":"AAAA,eAAe,MAAMA,KAAN,CAAY;AACzBC,cAAYC,QAAQ,EAAEC,UAAU,EAAZ,EAApB,EAAsC;AACpC,SAAKC,MAAL,GAAcF,KAAd;AACD;;AAED,MAAIA,KAAJ,GAAY;AACV,WAAO,KAAKE,MAAL,CAAYD,QAAnB;AACD;;AAEDE,eAAa;AACX,SAAKD,MAAL,CAAYD,QAAZ,GAAuB,EAAvB;AACD;;AAEDG,MAAIC,UAAJ,EAAgBC,KAAKC,SAArB,EAAgC;AAC9B,UAAMC,SAAS,KAAKR,KAAL,CAAWK,UAAX,CAAf;;AAEA,QAAIC,EAAJ,EAAQ,OAAOE,SAASA,OAAOF,EAAP,CAAT,GAAsB,IAA7B;AACR,WAAOE,SAASC,OAAOC,MAAP,CAAcF,MAAd,CAAT,GAAiC,IAAxC;AACD;;AAEDG,SAAON,UAAP,EAAmBC,EAAnB,EAAuB;AACrB,QAAI,KAAKN,KAAL,CAAWK,UAAX,CAAJ,EAA4B;AAC1B,aAAO,KAAKL,KAAL,CAAWK,UAAX,EAAuBC,EAAvB,CAAP;AACD;AACF;;AAEDM,MAAIX,QAAJ,EAAc;AACZ,SAAK,MAAMO,MAAX,IAAqBP,QAArB,EAA+B;AAC7B,UAAI,KAAKD,KAAL,CAAWQ,MAAX,CAAJ,EAAwB;AACtBC,eAAOI,MAAP,CAAc,KAAKb,KAAL,CAAWQ,MAAX,CAAd,EAAkCP,SAASO,MAAT,CAAlC;AACD,OAFD,MAEO;AACL,aAAKR,KAAL,CAAWQ,MAAX,IAAqBP,SAASO,MAAT,CAArB;AACD;AACF;AACF;AAlCwB","file":"store.js","sourcesContent":["export default class Store {\n  constructor(cache = { entities: {} }) {\n    this._cache = cache;\n  }\n\n  get cache() {\n    return this._cache.entities;\n  }\n\n  clearCache() {\n    this._cache.entities = {};\n  }\n\n  get(entityName, id = undefined) {\n    const entity = this.cache[entityName];\n\n    if (id) return entity ? entity[id] : null;\n    return entity ? Object.values(entity) : null;\n  }\n\n  delete(entityName, id) {\n    if (this.cache[entityName]) {\n      delete this.cache[entityName][id];\n    }\n  }\n\n  set(entities) {\n    for (const entity in entities) {\n      if (this.cache[entity]) {\n        Object.assign(this.cache[entity], entities[entity]);\n      } else {\n        this.cache[entity] = entities[entity];\n      }\n    }\n  }\n}\n"]}