{"version":3,"sources":["../../src/url-builder.js"],"names":["getId","UrlBuilderFactory","host","defaultUrl","UrlBuilder","constructor","obj","args","opts","id","customUrl","url","href","path","params","_customUrl","headers","undefined"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;;AAEA,eAAe,SAASC,iBAAT,CAA2BC,OAAO,EAAlC,EAAsCC,UAAtC,EAAkD;AAC/D,SAAO,MAAMC,UAAN,CAAiB;AACtBC,gBAAYC,GAAZ,EAAiBC,IAAjB,EAAuBC,OAAO,EAA9B,EAAkC;AAChC,WAAKC,EAAL,GAAiBT,MAAMM,GAAN,EAAWC,IAAX,EAAiBC,IAAjB,CAAjB;AACA,WAAKE,SAAL,GAAkBF,KAAKG,GAAL,IAAYH,KAAKG,GAAL,CAASL,GAAT,EAAcC,IAAd,CAAb,IAAqCJ,UAAtD;AACD;;AAED,QAAIS,IAAJ,GAAW;AACT,aAAQ,GAAEV,IAAK,GAAE,KAAKW,IAAL,EAAY,EAA7B;AACD;;AAED,QAAIC,MAAJ,GAAa;AACX,aAAO,KAAKC,UAAL,GAAkBD,MAAzB;AACD;;AAED,QAAIE,OAAJ,GAAc;AACZ,aAAO,KAAKD,UAAL,GAAkBC,OAAzB;AACD;;AAEDH,WAAO;AACL,UAAI,KAAKJ,EAAT,EAAa,OAAQ,GAAE,KAAKM,UAAL,GAAkBJ,GAAI,IAAG,KAAKF,EAAG,EAA3C;AACb,aAAO,KAAKM,UAAL,GAAkBJ,GAAzB;AACD;;AAEDI,iBAAa;AACX,UAAI,OAAO,KAAKL,SAAZ,KAA0B,QAA9B,EAAwC;AACtC,eAAO;AACLC,eAAK,KAAKD,SADL;AAELI,kBAAQG,SAFH;AAGLD,mBAASC;AAHJ,SAAP;AAKD,OAND,MAMO;AACL,eAAO;AACLN,eAAK,KAAKD,SAAL,CAAeC,GADf;AAELG,kBAAQ,KAAKJ,SAAL,CAAeI,MAFlB;AAGLE,mBAAS,KAAKN,SAAL,CAAeM;AAHnB,SAAP;AAKD;AACF;AArCqB,GAAxB;AAuCD","file":"url-builder.js","sourcesContent":["import getId from './utils/get-id';\n\nexport default function UrlBuilderFactory(host = '', defaultUrl) {\n  return class UrlBuilder {\n    constructor(obj, args, opts = {}) {\n      this.id        = getId(obj, args, opts);\n      this.customUrl = (opts.url && opts.url(obj, args)) || defaultUrl;\n    }\n\n    get href() {\n      return `${host}${this.path()}`;\n    }\n\n    get params() {\n      return this._customUrl().params;\n    }\n\n    get headers() {\n      return this._customUrl().headers;\n    }\n\n    path() {\n      if (this.id) return `${this._customUrl().url}/${this.id}`;\n      return this._customUrl().url;\n    }\n\n    _customUrl() {\n      if (typeof this.customUrl === 'string') {\n        return {\n          url: this.customUrl,\n          params: undefined,\n          headers: undefined\n        };\n      } else {\n        return {\n          url: this.customUrl.url,\n          params: this.customUrl.params,\n          headers: this.customUrl.headers\n        };\n      }\n    }\n  }\n}\n"]}